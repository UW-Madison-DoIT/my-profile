<loading-gif data-object='emergencyPhoneNumbers' data-reuse="true"></loading-gif>
<div class='info-card' ng-if="empty || emergencyPhoneNumbers.emergencyPhoneNumbers.length>0">
  <h1>My Phone Number</h1>
  <div class="description-box">
    <p>A number where you can be reached in an emergency.</p>
  </div>
  <div ng-if="emergencyPhoneNumbers.emergencyPhoneNumbers.length === 0 && !edit" >
    <p>
      <i class="fa fa-exclamation-triangle warn-icon"></i>No phone number entered yet.
    </p>
  </div>
  <div>
    <p ng-if="!edit && emergencyPhoneNumbers.emergencyPhoneNumbers.length">
      {{emergencyPhoneNumbers.emergencyPhoneNumbers[0].value}} ({{emergencyPhoneNumbers.emergencyPhoneNumbers[0].type}})
    </p>
    <div ng-hide="!edit">
      <form novalidate name="emergencyPhoneNumberForm">
        <div class="row form-group">
          <div class="col-xs-6">
            <label for="emergencyPhoneNumber" >Phone Number*</label>
            <input type="tel" id="emergencyPhoneNumber" name="emergencyPhoneNumber" class="form-control" required ng-model="emergencyPhoneNumbers.emergencyPhoneNumbers[0].value">
          </div>
          <div class="col-xs-6 phone-type">
            <label for="emergencyPhoneType">Type*</label>
            <select id="emergencyPhoneType" name="emergencyPhoneType" class="form-control" required ng-model="emergencyPhoneNumbers.emergencyPhoneNumbers[0].type">
              <option value="mobile">Mobile</option>
              <option value="home">Home</option>
              <option value="work">Work</option>
            </select>
          </div>
        </div>
        <p>*Required</p>
        <button class='btn btn-primary' style='margin-right: 10px;' ng-click="save(); edit = false;" ng-disabled="emergencyPhoneNumberForm.$invalid">Save</button>
        <button class='btn btn-default' ng-click='cancel()'>Cancel</button>
      </form>
    </div>
    <div ng-show="!edit" ng-click="edit = true" ng-switch="emergencyPhoneNumbers.emergencyPhoneNumbers.length">
      <button class='btn btn-primary' ng-switch-when="0">Add phone number</button>
      <button class='btn btn-default' ng-switch-default>Update phone number</button>
    </div>
  </div>
</div>
